<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Adhitya Utomo - Exercise 3</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    </head>
    <style>
        .main{
            padding-left: 15%;
            padding-right: 15%;
            background: cyan;
            min-height: 700px;
            width: 100%;
        }
        .sub-main{
            background: white;
        }
        .in-main{
            margin-bottom: 20px;
            padding: 25px;
        }
        .main-form{
            padding-bottom: 30px;
        }
    </style>
    <body style="font-family: 'Comic Sans MS', cursive, sans-serif;">
        <div class="main">
            <div class="sub-main">
                <div class="in-main" style="text-align:center;">
                    <h1 style="margin-top:unset;">Javascript Object</h1>
                    <h4><em>This is my third exercise project</em></h4>
                </div>
                <div class="in-main" style="background: antiquewhite;margin-bottom:unset;height: 1600px;">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-12">
                                <div style="">
                                    <div style="padding:10px;">
                                        <select name="filter_select" id="filter_select" onchange="prosesFilter()">
                                            <option>Pilih Filter</option>
                                            <option value="orbital">Periode orbital diatas 300</option>
                                            <option value="climate">Iklim panas</option>
                                            <option value="reset">Kembalikan nilai</option>
                                        </select>
                                        <div class="table table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th>No</th>
                                                        <th>Name</th>
                                                        <th>Rotation Period</th>
                                                        <th>Orbital Period</th>
                                                        <th>Diameter</th>
                                                        <th>Climate</th>
                                                        <th>Gravity</th>
                                                        <th>Terrain</th>
                                                        <th>Surface Water</th>
                                                        <th>Population</th>
                                                        <th>Residents</th>
                                                        <th>Films</th>
                                                        <th>Created</th>
                                                        <th>Edited</th>
                                                        <th>Url</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="data-content">
                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script>
             var defaultResult = [];
            var data = {
                "count": 61, 
                "next": "https://swapi.co/api/planets/?page=3", 
                "previous": "https://swapi.co/api/planets/?page=1", 
                "results": [
                {
                    "name": "Utapau", 
                    "rotation_period": "27", 
                    "orbital_period": "351", 
                    "diameter": "12900", 
                    "climate": "temperate, arid, windy", 
                    "gravity": "1 standard", 
                    "terrain": "scrublands, savanna, canyons, sinkholes", 
                    "surface_water": "0.9", 
                    "population": "95000000", 
                    "residents": [
                        "https://swapi.co/api/people/83/"
                    ], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T12:49:01.491000Z", 
                    "edited": "2014-12-20T20:58:18.439000Z", 
                    "url": "https://swapi.co/api/planets/12/"
                }, 
                {
                    "name": "Mustafar", 
                    "rotation_period": "36", 
                    "orbital_period": "412", 
                    "diameter": "4200", 
                    "climate": "hot", 
                    "gravity": "1 standard", 
                    "terrain": "volcanoes, lava rivers, mountains, caves", 
                    "surface_water": "0", 
                    "population": "20000", 
                    "residents": [], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T12:50:16.526000Z", 
                    "edited": "2014-12-20T20:58:18.440000Z", 
                    "url": "https://swapi.co/api/planets/13/"
                }, 
                {
                    "name": "Kashyyyk", 
                    "rotation_period": "26", 
                    "orbital_period": "381", 
                    "diameter": "12765", 
                    "climate": "tropical", 
                    "gravity": "1 standard", 
                    "terrain": "jungle, forests, lakes, rivers", 
                    "surface_water": "60", 
                    "population": "45000000", 
                    "residents": [
                        "https://swapi.co/api/people/13/", 
                        "https://swapi.co/api/people/80/"
                    ], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T13:32:00.124000Z", 
                    "edited": "2014-12-20T20:58:18.442000Z", 
                    "url": "https://swapi.co/api/planets/14/"
                }, 
                {
                    "name": "Polis Massa", 
                    "rotation_period": "24", 
                    "orbital_period": "590", 
                    "diameter": "0", 
                    "climate": "artificial temperate ", 
                    "gravity": "0.56 standard", 
                    "terrain": "airless asteroid", 
                    "surface_water": "0", 
                    "population": "1000000", 
                    "residents": [], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T13:33:46.405000Z", 
                    "edited": "2014-12-20T20:58:18.444000Z", 
                    "url": "https://swapi.co/api/planets/15/"
                }, 
                {
                    "name": "Mygeeto", 
                    "rotation_period": "12", 
                    "orbital_period": "167", 
                    "diameter": "10088", 
                    "climate": "frigid", 
                    "gravity": "1 standard", 
                    "terrain": "glaciers, mountains, ice canyons", 
                    "surface_water": "unknown", 
                    "population": "19000000", 
                    "residents": [], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T13:43:39.139000Z", 
                    "edited": "2014-12-20T20:58:18.446000Z", 
                    "url": "https://swapi.co/api/planets/16/"
                }, 
                {
                    "name": "Felucia", 
                    "rotation_period": "34", 
                    "orbital_period": "231", 
                    "diameter": "9100", 
                    "climate": "hot, humid", 
                    "gravity": "0.75 standard", 
                    "terrain": "fungus forests", 
                    "surface_water": "unknown", 
                    "population": "8500000", 
                    "residents": [], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T13:44:50.397000Z", 
                    "edited": "2014-12-20T20:58:18.447000Z", 
                    "url": "https://swapi.co/api/planets/17/"
                }, 
                {
                    "name": "Cato Neimoidia", 
                    "rotation_period": "25", 
                    "orbital_period": "278", 
                    "diameter": "0", 
                    "climate": "temperate, moist", 
                    "gravity": "1 standard", 
                    "terrain": "mountains, fields, forests, rock arches", 
                    "surface_water": "unknown", 
                    "population": "10000000", 
                    "residents": [
                        "https://swapi.co/api/people/33/"
                    ], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T13:46:28.704000Z", 
                    "edited": "2014-12-20T20:58:18.449000Z", 
                    "url": "https://swapi.co/api/planets/18/"
                }, 
                {
                    "name": "Saleucami", 
                    "rotation_period": "26", 
                    "orbital_period": "392", 
                    "diameter": "14920", 
                    "climate": "hot", 
                    "gravity": "unknown", 
                    "terrain": "caves, desert, mountains, volcanoes", 
                    "surface_water": "unknown", 
                    "population": "1400000000", 
                    "residents": [], 
                    "films": [
                        "https://swapi.co/api/films/6/"
                    ], 
                    "created": "2014-12-10T13:47:46.874000Z", 
                    "edited": "2014-12-20T20:58:18.450000Z", 
                    "url": "https://swapi.co/api/planets/19/"
                }, 
                {
                    "name": "Stewjon", 
                    "rotation_period": "unknown", 
                    "orbital_period": "unknown", 
                    "diameter": "0", 
                    "climate": "temperate", 
                    "gravity": "1 standard", 
                    "terrain": "grass", 
                    "surface_water": "unknown", 
                    "population": "unknown", 
                    "residents": [
                        "https://swapi.co/api/people/10/"
                    ], 
                    "films": [], 
                    "created": "2014-12-10T16:16:26.566000Z", 
                    "edited": "2014-12-20T20:58:18.452000Z", 
                    "url": "https://swapi.co/api/planets/20/"
                }, 
                {
                    "name": "Eriadu", 
                    "rotation_period": "24", 
                    "orbital_period": "360", 
                    "diameter": "13490", 
                    "climate": "polluted", 
                    "gravity": "1 standard", 
                    "terrain": "cityscape", 
                    "surface_water": "unknown", 
                    "population": "22000000000", 
                    "residents": [
                        "https://swapi.co/api/people/12/"
                    ], 
                    "films": [], 
                    "created": "2014-12-10T16:26:54.384000Z", 
                    "edited": "2014-12-20T20:58:18.454000Z", 
                    "url": "https://swapi.co/api/planets/21/"
                }
                ]
            }

            var nomor = 0;
            // var orbitals = [];
            data.results.forEach(function(result){
                nomor++;
                var content_row = "<tr><td>"+nomor+"</td><td>"+result.name+"</td><td>"+result.rotation_period+"</td><td>"+result.orbital_period+"</td><td>"+result.diameter+"</td><td>"+result.climate+"</td><td>"+result.gravity+"</td><td>"+result.terrain+"</td><td>"+result.surface_water+"</td><td>"+result.population+"</td><td>"+result.residents+"</td><td>"+result.films+"</td><td>"+result.created+"</td><td>"+result.edited+"</td><td>"+result.url+"</td></tr>";
                document.getElementById('data-content').innerHTML += content_row;
                // orbitals.push(result.orbital_period);
            });
                
            function prosesFilter() {
                var opt_value = document.getElementById('filter_select').value;
                if(opt_value == 'orbital'){
                    var dataFilter = data.results.filter(function(orbit){
                        return orbit.orbital_period > 300;
                    });
                    console.log(dataFilter);
                    dataOrbital = {
                        "count": 61, 
                        "next": "https://swapi.co/api/planets/?page=3", 
                        "previous": "https://swapi.co/api/planets/?page=1", 
                        "results": dataFilter
                    }
                    document.getElementById('data-content').innerHTML = "";
                    
                    var nomor = 0;
                    dataOrbital.results.forEach(function(result){
                        nomor++;
                        var content_row = "<tr><td>"+nomor+"</td><td>"+result.name+"</td><td>"+result.rotation_period+"</td><td>"+result.orbital_period+"</td><td>"+result.diameter+"</td><td>"+result.climate+"</td><td>"+result.gravity+"</td><td>"+result.terrain+"</td><td>"+result.surface_water+"</td><td>"+result.population+"</td><td>"+result.residents+"</td><td>"+result.films+"</td><td>"+result.created+"</td><td>"+result.edited+"</td><td>"+result.url+"</td></tr>";
                        document.getElementById('data-content').innerHTML += content_row;
                    });
                }
                if(opt_value == 'climate'){
                    var dataFilter = data.results.filter(function(climates){
                        return climates.climate == "hot";
                    });
                    dataClimate = {
                        "count": 61, 
                        "next": "https://swapi.co/api/planets/?page=3", 
                        "previous": "https://swapi.co/api/planets/?page=1", 
                        "results": dataFilter
                    }
                    document.getElementById('data-content').innerHTML = "";
                    
                    var nomor = 0;
                    dataClimate.results.forEach(function(result){
                        nomor++;
                        var content_row = "<tr><td>"+nomor+"</td><td>"+result.name+"</td><td>"+result.rotation_period+"</td><td>"+result.orbital_period+"</td><td>"+result.diameter+"</td><td>"+result.climate+"</td><td>"+result.gravity+"</td><td>"+result.terrain+"</td><td>"+result.surface_water+"</td><td>"+result.population+"</td><td>"+result.residents+"</td><td>"+result.films+"</td><td>"+result.created+"</td><td>"+result.edited+"</td><td>"+result.url+"</td></tr>";
                        document.getElementById('data-content').innerHTML += content_row;
                    });
                    
                }
                if(opt_value == 'reset'){
                    document.getElementById('data-content').innerHTML = "";
                    var nomor = 0;
                    data.results.forEach(function(result){
                        nomor++;
                        var content_row = "<tr><td>"+nomor+"</td><td>"+result.name+"</td><td>"+result.rotation_period+"</td><td>"+result.orbital_period+"</td><td>"+result.diameter+"</td><td>"+result.climate+"</td><td>"+result.gravity+"</td><td>"+result.terrain+"</td><td>"+result.surface_water+"</td><td>"+result.population+"</td><td>"+result.residents+"</td><td>"+result.films+"</td><td>"+result.created+"</td><td>"+result.edited+"</td><td>"+result.url+"</td></tr>";
                        document.getElementById('data-content').innerHTML += content_row;
                    });
                }
            }
            // var pilots = data.results;
            // var rebels = pilots.filter(function (pilot) {
            //     return pilot.orbital_period > 300;
            // });
            // console.log(rebels);
        </script>
    </body>
</html>
